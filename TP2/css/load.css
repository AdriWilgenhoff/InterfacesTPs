html.no-scroll,
body.no-scroll { overflow: hidden !important; }

/* Overlay full-screen */
#loaderOverlay{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  background: var(--color-bodyDark);
  perspective: 1000px;
}

/* Contenido */
#loaderOverlay .stage{
  width: 100%;
  display: grid;
  place-items: center;
  padding: 16px;
  transform-origin: center;
  will-change: transform, opacity;
}

/* Marca centrada */
#loaderOverlay .brandRow{
  position: relative;
  display: grid;
  place-items: center;
  min-height: 160px;
  transform: scale(var(--s, 1));
  transform-origin: center;
}

/* Logo + overlay oscuro revelable */
#loaderOverlay .logo{
  position: relative;
  width: clamp(120px, 32vw, 220px);
  max-width: 220px;
  aspect-ratio: 1/1;
  display: block;
  transform: translateX(var(--tx, 0));
  transition: transform .55s cubic-bezier(.2,.8,.2,1);
  will-change: transform;
}

#loaderOverlay .logoImg{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

/* Capa oscura que se retira (clip) */
#loaderOverlay .logoDark{
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: var(--color-bodyDark);
  -webkit-mask-image: var(--mask-url);
  mask-image: var(--mask-url);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-size: contain;
  mask-size: contain;
  clip-path: inset(0 var(--right, 0%) 0 var(--left, 0%) round 0);
  transition: clip-path .08s linear;
}

/* Palabra */
#loaderOverlay .word{
  position: absolute;
  left: 50%;
  transform: translateX(calc(-50% + var(--tx, 0)));
  opacity: 0;
  font-family: var(--font-logo, 'Orbitron'), sans-serif;
  font-weight: 800;
  letter-spacing: .5px;
  font-size: clamp(1.7rem, 4.6vw, 2.7rem);
  color: var(--color-text); 
  white-space: nowrap;
  user-select: none;
  transition: transform .65s cubic-bezier(.2,.8,.2,1), opacity .45s ease;
  will-change: transform, opacity;
}
#loaderOverlay .word .accent{ color: var(--color-primary); }

/* Porcentaje */
#loaderOverlay .percent{
  font-variant-numeric: tabular-nums;
  font-size: var(--font-size-base);
  letter-spacing: .5px;
  text-align: center;
  margin-top: 12px;
}
#loaderOverlay .percent.fade-out{
  opacity: 0;
  transition: opacity .35s ease;
}

/* Choque sutil */
@keyframes bonkLogo{
  0%{   transform: translateX(var(--tx)) scale(1) }
  35%{  transform: translateX(calc(var(--tx) + 3px)) scale(.96,1.04) }
  65%{  transform: translateX(calc(var(--tx) - 2px)) scale(1.04,.96) }
  100%{ transform: translateX(var(--tx)) scale(1) }
}
@keyframes bonkWord{
  0%{   transform: translateX(calc(-50% + var(--tx))) scale(1) }
  35%{  transform: translateX(calc(-50% + var(--tx) - 3px)) scale(.96,1.04) }
  65%{  transform: translateX(calc(-50% + var(--tx) + 2px)) scale(1.04,.96) }
  100%{ transform: translateX(calc(-50% + var(--tx))) scale(1) }
}
#loaderOverlay .logo.bonk{ animation: bonkLogo .5s cubic-bezier(.2,.8,.2,1) }
#loaderOverlay .word.bonk{ animation: bonkWord .5s cubic-bezier(.2,.8,.2,1) }

/* Salida */
@keyframes slide-out-fwd-center{
  0%{   transform: translateZ(0);   opacity: 1 }
  100%{ transform: translateZ(600px); opacity: 0 }
}
#loaderOverlay .slide-out-fwd-center{
  animation: slide-out-fwd-center .7s cubic-bezier(.55,.085,.68,.53) both;
}